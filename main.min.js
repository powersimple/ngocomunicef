var menu={},this_item={};function setVideo(e){jQuery("#video-player").attr("src",e)}function initSite(){null==menus&&window.setTimeout(initSite(),100)}jQuery(function(){jQuery("#main-menu").on("click","a.toggle-menu",function(){jQuery(".exo-menu").toggleClass("display")})});var winTop=jQuery(window).scrollTop();jQuery(function(){jQuery(window).scroll(function(){winTop>=30?(jQuery("#site-title").addClass("sticky-header"),jQuery("#main-menu").addClass("sticky-header"),jQuery("#pinned-nav").addClass("sticky-header")):(jQuery("#site-title").removeClass("sticky-header"),jQuery("#main-menu").removeClass("sticky-header"),jQuery("#pinned-nav").removeClass("sticky-header"))})}),jQuery(document).ready(function(){jQuery("#resource-accordion").accordion({header:"h3",collapsible:!0,autoHeight:!1,navigation:!0})});var posts={},taxonomies={},categories={},tags={},menus={},media={},posts_nav={},posts_slug_ids={},last_dest="outer-nav",menu_levels=[],menu_slides=[],related={},data_score=7,data_loaded=[],state={},social={},taxonomy_accordion=(taxonomies={},"");function getStaticJSON(e,s,n){var t=json_path+e+".json";jQuery.ajax({url:t,data:"",success:function(e,t,i){return console.log("data",e),s(e,n)},error:function(e,s,n){},cache:!1})}function setTaxonomies(e){var s="";for(var n in e.taxonomies){switch(s=n,n){case"category":s="categories";break;case"post_tag":s="tags";case"nav_sdg":s="sdg"}taxonomies[n]={data:e[s],name:e.taxonomies[n].name}}}function setData(e){setTaxonomies(e),setTags(e.tags),setCategories(e.categories),setMenus(e.menus),initSite()}function setPosts(e){if(Array.isArray(e))for(var s=0;s<e.length;s++)void 0!==e[s].title&&void 0!==e[s].title.rendered&&(e[s].title=e[s].title.rendered),void 0!==e[s].content&&void 0!==e[s].content.rendered&&(e[s].content=e[s].content.rendered),void 0!==e[s].type&&(e[s].type,posts[e[s].id]=e[s]);else e.type,posts[e.id]=e;return console.log("posts",posts),posts}function megaMenu(){var e='<nav id="megamenu" class="content">';e+='<ul class="exo-menu">',e+=getMegaMenu(menus.megamenu.menu_levels,""),e+='<a href="#" class="toggle-menu visible-xs-block"><i class="fa fa-bars"></i></a>',e+="</ul></nav>",jQuery("#main-menu").html(e)}function getMegaMenu(e,s){for(var n=0,t="",i="",a="",r="",o="",l="#",u="li",c="",d=0;d<e.length;d++){switch(r="",o="",i="",l="",u="li",""!=(n=e[d]).classes&&(i=' class="'+n.classes+'"',a=n.classes+"-ul"),n.classes.indexOf("mega-drop-down")?(r='<div class="animated fadeIn mega-menu">',r+='<div class="mega-menu-wrap">',r+='<div class="row">',r='<ul class="'+a+' animated fadeIn">',o="</ul></div></div></div>"):(n.classes.indexOf("drop-down"),r='<ul class="'+a+' animated fadeIn">',o="</ul>"),"mega-drop-down"==n.parent_classes&&(u="div"),"gradelevel"==n.object&&console.log("obj",n),n.object){case"page":case"category":case"gradelevel":case"custom":case"conference":case"award":l=n.url}""!=n.target&&(c=' target="_blank"'),t+="<"+u+" "+i+'><a href="'+l+'"'+c+">"+n.title+"</a>",null!=n.children&&n.children.length>0&&(t+=r,t+=getMegaMenu(n.children,n.classes),t+=o),t+="</li>"}return t}state.featured={transition:{type:"flip",face:"front"}},getStaticJSON("content",setData);var menu_config={megamenu:{menu_type:"megamenu",location:"#main-menu"},projects:{menu_type:"project",location:"#projects"},"social-links":{menu_type:"social",location:"#social"}};function setMenus(e){for(var s=0;s<e.length;s++)menus[e[s].slug]={},menus[e[s].slug].menu_array=[],menus[e[s].slug].name=e[s].name,menus[e[s].slug].slug=e[s].slug,menus[e[s].slug].items=setMenu(e[s].slug,e[s].items);buildMenuData()}function setMenu(e,s){menu={};for(var n=0;n<s.length;n++)menu[s[n].ID]=setMenuItem(e,s[n]),0!=s[n].menu_item_parent&&menu[s[n].menu_item_parent].children.push(s[n].ID),menus[e].menu_array.push(menu[s[n].ID]);return console.log("SetMenu",e,menu),menu}function setMenuItem(e,s){return(this_item={}).menu_id=s.ID,this_item.title=s.title,this_item.menu_order=s.menu_order,this_item.object=s.object,this_item.object_id=s.object_id,this_item.parent=s.menu_item_parent,this_item.classes=s.classes,this_item.url=s.url,this_item.description=s.description,this_item.slug=e,this_item.children=[],this_item}function menu_order(e,s){return e.menu_order<s.menu_order?-1:e.menu_order>s.menu_order?1:0}function setLinearNav(e){menus[e].linear_nav=[];for(var s in menus[e].items)menus[e].items[s].slug=s,menus[e].items[s].object_id,menus[e].linear_nav.push(menus[e].items[s]),0;menus[e].linear_nav.sort(menu_order)}function setLinearDataNav(e,s){menus[e].data_nav=[],menus[e].slug_nav=[];for(var n=0,t=0,i=0,a=0,r="outer-nav",o=0;o<s.length;o++){r="outer-nav",s[o].dest=r,s[o].slice=t,s[o].notch=n,i=n,menus[e].data_nav.push(s[o]),menus[e].slug_nav[s[o].slug]=n,n++;for(var l=0;l<s[o].children.length;l++){s[o].children[l].dest="inner-nav",s[o].children[l].slice=l,s[o].children[l].notch=n,s[o].children[l].parent=i,a=n,menus[e].data_nav.push(s[o].children[l]),menus[e].slug_nav[s[o].children[l].slug]=n,n++;for(var u=0;u<s[o].children[l].children.length;u++)s[o].children[l].children[u].dest="inner-subnav",s[o].children[l].children[u].slice=u,s[o].children[l].children[u].notch=n,s[o].children[l].children[u].grandparent=i,s[o].children[l].children[u].parent=a,menus[e].data_nav.push(s[o].children[l].children[u]),menus[e].slug_nav[s[o].children[l].children[u].slug]=n,n++}t++}}function getSlug(e,s,n,t){var i="";return null!=e&&(i=e.slug,null!=posts[e.object_id]&&(i=posts[e.object_id].slug)),i}function buildMenuData(){if(null==posts)window.setTimeout(buildMenuData(),10);else for(var e in menus){var s=[];if(null!=menu_config[e]){for(var n in menus[e].menu_array=[],menus[e].items)0==menus[e].items[n].parent&&menus[e].menu_array.push(menus[e].items[n]);menus[e].menu_array.sort(menu_order);for(var t=[],i=menus[e].menu_array,a="",r=0;r<i.length;r++){t=[];for(var o=0;o<i[r].children.length;o++){for(var l=[],u=menus[e].items[i[r].children[o]].children,c=0;c<u.length;c++)a=getSlug(menus[e].items[u[c]],c,"g",u,c),l.push({title:menus[e].items[u[c]].title,url:menus[e].items[u[c]].url,slug:a,object:menus[e].items[u[c]].object,object_id:menus[e].items[u[c]].object_id,classes:menus[e].items[u[c]].classes,description:menus[e].items[u[c]].description});a=getSlug(menus[e].items[i[r].children[o]],"c",i[r].children[o],o),t.push({title:menus[e].items[i[r].children[o]].title,slug:a,url:menus[e].items[i[r].children[o]].url,object:menus[e].items[i[r].children[o]].object,object_id:menus[e].items[i[r].children[o]].object_id,classes:menus[e].items[i[r].children[o]].classes,description:menus[e].items[i[r].children[o]].description,children:l})}a=getSlug(i[r],"o",i,r),s.push({title:i[r].title,slug:a,url:i[r].url,object:i[r].object,object_id:i[r].object_id,children:t,classes:i[r].classes,description:i[r].description})}menus[e].menu_levels=s,menu_levels=s,setLinearDataNav(e,s),setLinearNav(e),console.log("data",menus)}}}jQuery(".slideshow").slick({autoplay:!0,dots:!0,arrows:!0,infinite:!0,speed:1500,fade:!0,cssEase:"linear",focusoOnSelect:!0,nextArrow:'<i class="slick-arrow slick-next"></i>',prevArrow:'<i class="slick-arrow slick-prev"></i>',lazyLoad:"ondemand",responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]});var $carousel=jQuery(".slideshow");function setChildCategories(e){for(var s=0;s<e.length;s++)categories[e[s].id]=e[s];return e}function setCategories(e){for(var s=0;s<e.length;s++)categories[e[s].id]=e[s];return console.log("categories",categories),e}function setTags(e){for(var s=0;s<e.length;s++)tags[e[s].id]=e[s];return console.log("tags",tags),e}jQuery(document).on("keydown",function(e){37==e.keyCode&&$carousel.slick("slickPrev"),39==e.keyCode&&$carousel.slick("slickNext")}),jQuery("a[data-slide]").click(function(e){e.preventDefault();var s=jQuery(this).data("slide");console.log(s),$carousel.slick("slickGoTo",s)}),jQuery(".slideshow").on("afterChange",function(e,s,n){jQuery("#slide-title").html(jQuery("#crc"+n).attr("title")),jQuery("#slide-caption").html(jQuery("#crc"+n).data("caption")),jQuery("#slide-desc").html(jQuery("#crc"+n).data("desc")),console.log(n)});